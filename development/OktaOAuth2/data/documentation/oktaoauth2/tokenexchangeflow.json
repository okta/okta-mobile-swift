{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TokenExchangeFlow"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Token Exchange Flow allows a client to get the Access Token exchanging other tokens."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As an example, consider "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.okta.com\/docs\/guides\/configure-native-sso\/main\/#native-sso-flow"},{"type":"text","text":" where a client exchanges the ID and the Device Secret tokens to get the access to the resource."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can create an instance of  "},{"type":"reference","isActive":true,"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow"},{"type":"text","text":" either through the "},{"type":"codeVoice","code":"resourceOwnerFlow()"},{"type":"text","text":" method on "},{"type":"codeVoice","code":"OAuth2Client"},{"type":"text","text":", or you can use any of the designated initializers to construct the flow."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As an example, we’ll use Swift Concurrency, since these asynchronous methods can be used inline easily, though "},{"type":"reference","isActive":true,"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow"},{"type":"text","text":" can just as easily be used with completion blocks or through the use of the "},{"type":"codeVoice","code":"AuthenticationDelegate"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["let flow = TokenExchangeFlow(","    issuer: URL(string: \"https:\/\/example.okta.com\")!,","    clientId: \"abc123client\",","    scopes: \"openid offline_access email profile\",","    audience: .default)","","let tokens: [TokenType] = [","    .actor(type: .deviceSecret, value: \"DeviceToken\"),","    .subject(type: .idToken, value: \"IDToken\")","]","let token = try await flow.start(with: tokens)"]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/oktaoauth2\/tokenexchangeflow"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/OktaOAuth2\/14AuthFoundation17APIClientDelegateP","doc:\/\/OktaOAuth2\/14AuthFoundation18AuthenticationFlowP","doc:\/\/OktaOAuth2\/14AuthFoundation20OAuth2ClientDelegateP","doc:\/\/OktaOAuth2\/14AuthFoundation22UsesDelegateCollectionP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"An authentication flow class that implements the Token Exchange Flow."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TokenExchangeFlow"}],"title":"TokenExchangeFlow","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:10OktaOAuth217TokenExchangeFlowC","modules":[{"name":"OktaOAuth2"}],"navigatorTitle":[{"kind":"identifier","text":"TokenExchangeFlow"}]},"hierarchy":{"paths":[["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2"]]},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init()","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(audience:client:)","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(issuer:clientId:scopes:audience:)","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(plist:)"]},{"title":"Instance Properties","identifiers":["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/audience-swift.property","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/client","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/delegateCollection","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/isAuthenticating"]},{"title":"Instance Methods","identifiers":["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/reset()","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/start(with:)","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/start(with:completion:)"]},{"title":"Enumerations","identifiers":["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/Audience-swift.enum","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/TokenType"]},{"title":"Default Implementations","identifiers":["doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/APIClientDelegate-Implementations","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/OAuth2ClientDelegate-Implementations","doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/UsesDelegateCollection-Implementations"],"generated":true}],"references":{"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/Audience-swift.enum":{"role":"symbol","title":"TokenExchangeFlow.Audience","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Audience"}],"abstract":[{"type":"text","text":"Identifies the audience of the authorization server."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/Audience-swift.enum","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Audience"}],"url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/audience-swift.enum"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/APIClientDelegate-Implementations":{"role":"collectionGroup","title":"APIClientDelegate Implementations","abstract":[],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/APIClientDelegate-Implementations","kind":"article","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/apiclientdelegate-implementations"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/UsesDelegateCollection-Implementations":{"role":"collectionGroup","title":"UsesDelegateCollection Implementations","abstract":[],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/UsesDelegateCollection-Implementations","kind":"article","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/usesdelegatecollection-implementations"},"doc://OktaOAuth2/14AuthFoundation17APIClientDelegateP":{"type":"unresolvable","title":"AuthFoundation.APIClientDelegate","identifier":"doc:\/\/OktaOAuth2\/14AuthFoundation17APIClientDelegateP"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/client":{"role":"symbol","title":"client","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"client"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"OAuth2Client","preciseIdentifier":"s:14AuthFoundation12OAuth2ClientC"}],"abstract":[{"type":"text","text":"The OAuth2 client this authentication flow will use."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/client","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/client"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/isAuthenticating":{"role":"symbol","title":"isAuthenticating","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"isAuthenticating"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"Indicates whether or not this flow is currently in the process of authenticating a user."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/isAuthenticating","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/isauthenticating"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow":{"role":"symbol","title":"TokenExchangeFlow","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TokenExchangeFlow"}],"abstract":[{"type":"text","text":"An authentication flow class that implements the Token Exchange Flow."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TokenExchangeFlow"}],"url":"\/documentation\/oktaoauth2\/tokenexchangeflow"},"doc://OktaOAuth2/documentation/OktaOAuth2":{"role":"collection","title":"OktaOAuth2","abstract":[{"type":"text","text":"Interact with Okta’s OAuth2 APIs to authenticate users, and interact with user resources."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/reset()":{"role":"symbol","title":"reset()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"reset"},{"kind":"text","text":"()"}],"abstract":[],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/reset()","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/reset()"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/audience-swift.property":{"role":"symbol","title":"audience","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"audience"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TokenExchangeFlow","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Audience","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC8AudienceO"}],"abstract":[{"type":"text","text":"Server audience."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/audience-swift.property","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/audience-swift.property"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/TokenType":{"role":"symbol","title":"TokenExchangeFlow.TokenType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"TokenType"}],"abstract":[{"type":"text","text":"Types specify token’s identity."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/TokenType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TokenType"}],"url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/tokentype"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/delegateCollection":{"role":"symbol","title":"delegateCollection","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"delegateCollection"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DelegateCollection","preciseIdentifier":"s:14AuthFoundation18DelegateCollectionC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"AuthenticationDelegate","preciseIdentifier":"s:14AuthFoundation22AuthenticationDelegateP"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Collection of the "},{"type":"codeVoice","code":"AuthenticationDelegate"},{"type":"text","text":" objects."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/delegateCollection","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/delegatecollection"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/init()":{"role":"symbol","title":"init()","fragments":[{"kind":"keyword","text":"convenience"},{"kind":"text","text":" "},{"kind":"identifier","text":"init"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Initializer that uses the configuration defined within the application’s "},{"type":"codeVoice","code":"Okta.plist"},{"type":"text","text":" file."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init()","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/init()"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/start(with:completion:)":{"role":"symbol","title":"start(with:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"start"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"TokenExchangeFlow","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"TokenType","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC0C4TypeO"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Token","preciseIdentifier":"s:14AuthFoundation5TokenC"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"OAuth2Error","preciseIdentifier":"s:14AuthFoundation11OAuth2ErrorO"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"Initiates a token exchange flow."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/start(with:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/start(with:completion:)"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/init(plist:)":{"role":"symbol","title":"init(plist:)","fragments":[{"kind":"keyword","text":"convenience"},{"kind":"text","text":" "},{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"plist"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Initializer that uses the configuration defined within the given file URL."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(plist:)","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/init(plist:)"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/init(audience:client:)":{"role":"symbol","title":"init(audience:client:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"audience"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TokenExchangeFlow","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Audience","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC8AudienceO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"client"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"OAuth2Client","preciseIdentifier":"s:14AuthFoundation12OAuth2ClientC"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initializer to construct a flow from a pre-defined configuration and client."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(audience:client:)","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/init(audience:client:)"},"https://developer.okta.com/docs/guides/configure-native-sso/main/#native-sso-flow":{"title":"SSO for Native Apps","titleInlineContent":[{"type":"text","text":"SSO for Native Apps"}],"type":"link","identifier":"https:\/\/developer.okta.com\/docs\/guides\/configure-native-sso\/main\/#native-sso-flow","url":"https:\/\/developer.okta.com\/docs\/guides\/configure-native-sso\/main\/#native-sso-flow"},"doc://OktaOAuth2/14AuthFoundation18AuthenticationFlowP":{"type":"unresolvable","title":"AuthFoundation.AuthenticationFlow","identifier":"doc:\/\/OktaOAuth2\/14AuthFoundation18AuthenticationFlowP"},"doc://OktaOAuth2/14AuthFoundation20OAuth2ClientDelegateP":{"type":"unresolvable","title":"AuthFoundation.OAuth2ClientDelegate","identifier":"doc:\/\/OktaOAuth2\/14AuthFoundation20OAuth2ClientDelegateP"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/OAuth2ClientDelegate-Implementations":{"role":"collectionGroup","title":"OAuth2ClientDelegate Implementations","abstract":[],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/OAuth2ClientDelegate-Implementations","kind":"article","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/oauth2clientdelegate-implementations"},"doc://OktaOAuth2/14AuthFoundation22UsesDelegateCollectionP":{"type":"unresolvable","title":"AuthFoundation.UsesDelegateCollection","identifier":"doc:\/\/OktaOAuth2\/14AuthFoundation22UsesDelegateCollectionP"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/start(with:)":{"role":"symbol","title":"start(with:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"start"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"TokenExchangeFlow","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"TokenType","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC0C4TypeO"},{"kind":"text","text":"]) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Token","preciseIdentifier":"s:14AuthFoundation5TokenC"}],"abstract":[{"type":"text","text":"Asynchronously initiates a token exchange flow."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/start(with:)","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/start(with:)"},"doc://OktaOAuth2/documentation/OktaOAuth2/TokenExchangeFlow/init(issuer:clientId:scopes:audience:)":{"role":"symbol","title":"init(issuer:clientId:scopes:audience:)","fragments":[{"kind":"keyword","text":"convenience"},{"kind":"text","text":" "},{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"issuer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"clientId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"scopes"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"audience"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TokenExchangeFlow","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Audience","preciseIdentifier":"s:10OktaOAuth217TokenExchangeFlowC8AudienceO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Convenience initializer to construct a flow from variables."}],"identifier":"doc:\/\/OktaOAuth2\/documentation\/OktaOAuth2\/TokenExchangeFlow\/init(issuer:clientId:scopes:audience:)","kind":"symbol","type":"topic","url":"\/documentation\/oktaoauth2\/tokenexchangeflow\/init(issuer:clientid:scopes:audience:)"}}}